{{/*
  Parametrisoitu hero-elementti kaikille sivuille.
  
  Parametrit:
  - .height (string): Hero-alueen minimikorkeus (esim. "60vh", "45vh")
  - .paddingY (string): Ylä- ja alapadding (esim. "6rem", "3rem")
  - .context (page context): Hugo page context (.)
*/}}

{{ $height := .height | default "45vh" }}
{{ $paddingY := .paddingY | default "3rem" }}
{{ $ctx := .context }}

{{ $featured_image := partials.Include "func/GetFeaturedImage.html" $ctx }}
{{ if $featured_image }}
  {{/* Featured image hero */}}
  {{ $featured_image_class := $ctx.Params.featured_image_class | compare.Default "cover bg-center" }}
  {{ $cover_dimming_class := $ctx.Params.cover_dimming_class | compare.Default "bg-black-60" }}
  {{/* Tarkista onko description näkyvissä - vaikuttaa tasaukseen */}}
  {{ $hasVisibleDescription := and (not $ctx.Params.omit_header_description) $ctx.Params.description }}
  <header class="{{ $featured_image_class }}" style="background-image: url('{{ $featured_image }}'); min-height: {{ $height }};">
    <div class="{{ $cover_dimming_class }}" style="min-height: {{ $height }}; display: flex; align-items: center; justify-content: center;">
      <div class="tc ph3 ph4-ns" {{ if not $hasVisibleDescription }}style="transform: translateY(-4vh);"{{ end }}>
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          {{ $ctx.Title | compare.Default $ctx.Site.Title }}
        </h1>
        {{ if $hasVisibleDescription }}
          <h2 class="fw1 f5 f3-l white-80 measure-wide-l center mt3">
            {{ $ctx.Params.description }}
          </h2>
        {{ end }}
      </div>
    </div>
  </header>
{{ else }}
  {{/* Non-featured image hero */}}
  <header>
    <div class="pb3-m pb6-l {{ $ctx.Site.Params.background_color_class | compare.Default "bg-black" }}">
      <div class="tc ph3 ph4-ns" style="padding-top: {{ $paddingY }}; padding-bottom: {{ $paddingY }};">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          {{ $ctx.Title | compare.Default $ctx.Site.Title }}
        </h1>
        {{ with $ctx.Params.description }}
          <h2 class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
            {{ . }}
          </h2>
        {{ end }}
      </div>
    </div>
  </header>
{{ end }}
